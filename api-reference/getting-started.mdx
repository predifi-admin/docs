---
title: "API Getting Started"
description: "Complete guide to using the Predifi API for prediction market trading"
---

## Welcome to Predifi API

The Predifi API provides programmatic access to all prediction market trading functionality. Build trading bots, custom UIs, analytics dashboards, or integrate prediction markets into your application.

<Frame>
  <div style={{padding: '20px', background: '#f8fafc', borderRadius: '8px'}}>
    **REST API + WebSocket Streams → Complete Market Access → Build Anything**
  </div>
</Frame>

---

## Base URL

```
Production: https://api.predifi.com
Testnet:    https://testnet-api.predifi.com
```

All API requests must use HTTPS. HTTP requests will be rejected.

---

## Authentication

### API Keys

Get your API key from the [Developer Dashboard](https://app.predifi.com/developer):

```bash
# Include in header
curl https://api.predifi.com/v1/markets \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### API Key Permissions

Configure what your API key can do:

| Permission | Description |
|------------|-------------|
| **Read Markets** | Fetch market data, orderbooks, prices |
| **Read Portfolio** | View positions and balances |
| **Place Trades** | Submit trading intents and orders |
| **Cancel Orders** | Cancel pending orders |
| **Admin** | Access admin endpoints (restricted) |

<Warning>
  **Keep your API keys secure!** Never commit them to public repositories or share them publicly.
</Warning>

---

## Rate Limits

### Standard Limits

| Endpoint Type | Rate Limit | Burst |
|--------------|------------|-------|
| **Market Data (GET)** | 100 req/min | 200 req/min (burst) |
| **Trading (POST)** | 20 req/min | 40 req/min (burst) |
| **Portfolio (GET)** | 30 req/min | 60 req/min (burst) |
| **WebSocket** | 1 connection | - |

### Rate Limit Headers

```http
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1638360000
```

### Handling Rate Limits

When rate limited, you'll receive:

```json
{
  "error": "RATE_LIMIT_EXCEEDED",
  "message": "Too many requests. Please try again in 30 seconds.",
  "retryAfter": 30
}
```

**Best practices:**
- Implement exponential backoff
- Cache market data when possible
- Use WebSockets for real-time data
- Batch requests when possible

---

## Response Format

### Success Response

```json
{
  "ok": true,
  "data": {
    // Response payload
  },
  "timestamp": 1638360000000
}
```

### Error Response

```json
{
  "ok": false,
  "error": "ERROR_CODE",
  "message": "Human-readable error message",
  "details": {
    // Additional error context
  },
  "timestamp": 1638360000000
}
```

### Common Error Codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `INVALID_API_KEY` | 401 | API key missing or invalid |
| `INSUFFICIENT_PERMISSIONS` | 403 | API key lacks required permission |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests |
| `INVALID_PARAMS` | 400 | Request parameters invalid |
| `MARKET_NOT_FOUND` | 404 | Market doesn't exist |
| `INSUFFICIENT_BALANCE` | 400 | Not enough USDC |
| `MARKET_CLOSED` | 400 | Market no longer accepting trades |
| `SERVER_ERROR` | 500 | Internal server error |

---

## Quick Start

### 1. Get API Key

<Steps>
  <Step title="Sign Up">
    Create account at [app.predifi.com](https://app.predifi.com)
  </Step>
  
  <Step title="Navigate to Developer">
    Go to Settings → Developer → API Keys
  </Step>
  
  <Step title="Create Key">
    Click "Create API Key", set permissions, save securely
  </Step>
</Steps>

### 2. Make Your First Request

<CodeGroup>

```bash cURL
curl https://api.predifi.com/v1/markets \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```typescript TypeScript
import axios from 'axios';

const api = axios.create({
  baseURL: 'https://api.predifi.com',
  headers: {
    'Authorization': `Bearer ${process.env.PREDIFI_API_KEY}`
  }
});

const { data } = await api.get('/v1/markets');
console.log('Markets:', data);
```

```python Python
import requests

headers = {
    'Authorization': f'Bearer {os.getenv("PREDIFI_API_KEY")}'
}

response = requests.get(
    'https://api.predifi.com/v1/markets',
    headers=headers
)

markets = response.json()
print(f'Found {len(markets)} markets')
```

```javascript JavaScript
const fetch = require('node-fetch');

const response = await fetch('https://api.predifi.com/v1/markets', {
  headers: {
    'Authorization': `Bearer ${process.env.PREDIFI_API_KEY}`
  }
});

const markets = await response.json();
console.log('Markets:', markets);
```

</CodeGroup>

### 3. Place Your First Trade

```typescript
// Get quote for trade
const quote = await api.get('/v1/trading/quote', {
  params: {
    marketId: 'BTC-15M-20250111-1430',
    action: 'buy',
    outcomeId: 0,  // 0 = YES, 1 = NO
    size: 100      // $100 USDC
  }
});

console.log('Quote:', quote.data);
// {
//   estimatedShares: 150.0,
//   avgPrice: 0.6667,
//   fee: 0.10,
//   total: 100.10
// }

// Submit trading intent
const intent = await api.post('/v1/trading/intent', {
  marketId: 'BTC-15M-20250111-1430',
  outcomeId: 0,
  size: 100,
  maxSlippage: 0.02  // 2% max slippage
});

console.log('Intent submitted:', intent.data);
// {
//   intentId: '0x123...',
//   status: 'pending',
//   estimatedFillTime: 120 // seconds
// }
```

---

## API Endpoints Overview

### Markets

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/markets` | List all markets |
| `GET` | `/v1/markets/:id` | Get market details |
| `GET` | `/v1/markets/:id/prices` | Get price history |
| `GET` | `/v1/markets/:id/trades` | Get recent trades |

[Full markets documentation →](/api-reference/markets)

### Orderbook

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/orderbook/:venue/:id` | Get orderbook depth |
| `GET` | `/v1/orderbook/:venue/:id/top` | Get best bid/ask |

[Full orderbook documentation →](/api-reference/orderbook)

### Trading

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/trading/quote` | Get trade quote |
| `POST` | `/v1/trading/intent` | Submit trading intent |
| `GET` | `/v1/trading/intent/:id` | Check intent status |
| `DELETE` | `/v1/trading/intent/:id` | Cancel pending intent |

[Full trading documentation →](/api-reference/trading)

### Portfolio

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/portfolio/:address/positions` | Get user positions |
| `GET` | `/v1/portfolio/:address/pnl` | Get P&L summary |
| `GET` | `/v1/portfolio/:address/history` | Get trade history |

[Full portfolio documentation →](/api-reference/portfolio)

### WebSocket

| Event | Description |
|-------|-------------|
| `market` | Market data updates |
| `orderbook` | Orderbook changes |
| `trades` | New trades |
| `user_intent` | Your intent updates |

[Full WebSocket documentation →](/api-reference/websockets)

---

## Pagination

For endpoints returning lists, use pagination:

```bash
GET /v1/markets?page=1&limit=50
```

**Parameters:**
- `page` - Page number (1-indexed, default: 1)
- `limit` - Items per page (max: 100, default: 20)

**Response:**
```json
{
  "ok": true,
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 1234,
    "pages": 25,
    "hasMore": true
  }
}
```

---

## Filtering & Sorting

Many endpoints support filtering and sorting:

```bash
# Filter by category
GET /v1/markets?category=crypto

# Filter by status
GET /v1/markets?status=active

# Sort by volume
GET /v1/markets?sort=volume&order=desc

# Combine filters
GET /v1/markets?category=crypto&status=active&sort=volume&order=desc
```

---

## Timestamps

All timestamps are in **Unix milliseconds** (UTC):

```json
{
  "createdAt": 1638360000000,  // Jan 1, 2022 12:00:00 UTC
  "expiresAt": 1638363600000   // Jan 1, 2022 13:00:00 UTC
}
```

Convert in your timezone:

```typescript
const date = new Date(timestamp);
console.log(date.toLocaleString());
// "1/1/2022, 12:00:00 PM"
```

---

## Decimal Precision

### Prices

Prices are represented as decimals between 0 and 1:

```json
{
  "yesPrice": 0.6543,  // $0.6543 per share
  "noPrice": 0.3457    // $0.3457 per share
}
```

### Amounts

USDC amounts are in dollars (6 decimals):

```json
{
  "balance": 1234.56,      // $1,234.56
  "minTrade": 1.00,        // $1.00 minimum
  "maxTrade": 100000.00    // $100,000 maximum
}
```

---

## Versioning

API version is included in the URL:

```
https://api.predifi.com/v1/markets
                        ^^
                      version
```

**Current version:** `v1`

When we make breaking changes, we'll release a new version (v2, v3, etc.). Old versions remain supported for at least 6 months.

---

## SDKs

### Official SDKs

<CardGroup cols={2}>
  <Card title="TypeScript/JavaScript" icon="js">
    ```bash
    npm install @predifi/sdk
    ```
  </Card>
  <Card title="Python" icon="python">
    ```bash
    pip install predifi
    ```
  </Card>
  <Card title="Rust" icon="rust">
    ```bash
    cargo add predifi
    ```
    (Coming soon)
  </Card>
  <Card title="Go" icon="golang">
    ```bash
    go get github.com/predifi/predifi-go
    ```
    (Coming soon)
  </Card>
</CardGroup>

[Full SDK documentation →](/developers/sdks)

---

## Testing

### Testnet

Test your integration on testnet before going live:

```
Testnet API: https://testnet-api.predifi.com
Testnet App: https://testnet.predifi.com
```

**Differences from mainnet:**
- Free testnet USDC from faucet
- Same API endpoints
- Markets resolve instantly for testing
- No real money at risk

**Get testnet USDC:**
```bash
curl -X POST https://testnet-api.predifi.com/v1/faucet \
  -H "Content-Type: application/json" \
  -d '{"address": "0x your_address"}'

# Sends 1000 testnet USDC to your address
```

---

## Support

### Getting Help

<CardGroup cols={3}>
  <Card title="Discord" icon="discord">
    Join #api-support channel
  </Card>
  <Card title="GitHub" icon="github">
    Open issue for bugs
  </Card>
  <Card title="Email" icon="envelope">
    api@predifi.com
  </Card>
</CardGroup>

### Status Page

Check API uptime and latency:
- **Status**: [status.predifi.com](https://status.predifi.com)
- **Incidents**: Subscribe for notifications
- **Metrics**: Real-time API performance

---

## Best Practices

<AccordionGroup>
  <Accordion title="Use WebSockets for Real-Time Data" icon="bolt">
    Don't poll REST endpoints for real-time updates. Use WebSockets:
    
    ```typescript
    // ❌ Bad: Poll every second
    setInterval(() => {
      api.get('/v1/markets/BTC-15M');
    }, 1000);
    
    // ✅ Good: Use WebSocket
    ws.subscribe('market', 'BTC-15M', (update) => {
      console.log('Market updated:', update);
    });
    ```
  </Accordion>

  <Accordion title="Handle Errors Gracefully" icon="triangle-exclamation">
    Always handle errors and implement retries:
    
    ```typescript
    async function fetchWithRetry(url, retries = 3) {
      for (let i = 0; i < retries; i++) {
        try {
          return await api.get(url);
        } catch (error) {
          if (i === retries - 1) throw error;
          await sleep(1000 * (i + 1)); // Exponential backoff
        }
      }
    }
    ```
  </Accordion>

  <Accordion title="Cache Aggressively" icon="database">
    Cache static data to reduce API calls:
    
    ```typescript
    // Cache market metadata (changes rarely)
    const marketCache = new Map();
    
    async function getMarket(id) {
      if (marketCache.has(id)) {
        return marketCache.get(id);
      }
      const market = await api.get(`/v1/markets/${id}`);
      marketCache.set(id, market);
      return market;
    }
    ```
  </Accordion>

  <Accordion title="Use Pagination" icon="list-ol">
    Don't fetch all data at once:
    
    ```typescript
    // ❌ Bad: Fetch 10,000 markets
    const markets = await api.get('/v1/markets?limit=10000');
    
    // ✅ Good: Paginate
    async function* fetchMarkets() {
      let page = 1;
      while (true) {
        const response = await api.get(`/v1/markets?page=${page}&limit=100`);
        yield* response.data;
        if (!response.pagination.hasMore) break;
        page++;
      }
    }
    ```
  </Accordion>
</AccordionGroup>

---

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Markets API"
    icon="chart-line"
    href="/api-reference/markets"
  >
    Fetch market data and prices
  </Card>
  <Card
    title="Trading API"
    icon="cart-shopping"
    href="/api-reference/trading"
  >
    Place trades and manage orders
  </Card>
  <Card
    title="Portfolio API"
    icon="wallet"
    href="/api-reference/portfolio"
  >
    Track positions and P&L
  </Card>
  <Card
    title="WebSocket API"
    icon="bolt"
    href="/api-reference/websockets"
  >
    Real-time data streams
  </Card>
</CardGroup>

---

## Ready to Build?

<Card
  title="Get Your API Key"
  icon="key"
  href="https://app.predifi.com/developer"
>
  Create your developer account and get started →
</Card>
